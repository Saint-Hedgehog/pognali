"use strict";var title=document.querySelector(".add-plan__title"),form=document.querySelector(".add-plan__form"),steps=form.querySelectorAll(".add-plan__step"),companions=form.querySelector(".step__input-area--companions"),companionsElements={minusButton:companions.querySelector(".input-area__button--minus"),plusButton:companions.querySelector(".input-area__button--plus"),input:companions.querySelector(".input-area__value")},isValidInput=function(e){var t=e.classList[0]+"--invalid",n=e.parentNode.classList[0]+"--invalid";return!1===e.checkValidity()?(e.classList.add(t),e.parentNode.classList.add(n),!1):(e.classList.remove(t),e.parentNode.classList.remove(n),!0)},isValidTextarea=function(e){var t=e.classList[0]+"--invalid",n=e.parentNode.classList[1]+"--invalid";return!1===e.checkValidity()?(e.classList.add(t),e.parentNode.classList.add(n),!1):(e.classList.remove(t),e.parentNode.classList.remove(n),!0)},isValidFieldset=function(e){var t=!0;return e.querySelectorAll("input").forEach(function(e){!1===isValidInput(e)&&(t=!1)}),e.querySelectorAll("textarea").forEach(function(e){!1===isValidTextarea(e)&&(t=!1)}),e.querySelector(".step__countries-container")&&(e.querySelectorAll(".step__input-countrie").length!==e.querySelectorAll(".input-countrie--empty").length&&0!==e.querySelectorAll(".step__input-countrie").length||(t=!1)),t},nextStep=function(e){if(isValidFieldset(steps[e])){var t="add-plan__title--"+(e+1),n="add-plan__title--"+(e+2);title.classList.remove(t),title.classList.add(n),steps[e].classList.remove("step--active"),steps[e+1].classList.add("step--active")}},prevStep=function(e){var t="add-plan__title--"+(e+1),n="add-plan__title--"+e;title.classList.remove(t),title.classList.add(n),steps[e].classList.remove("step--active"),steps[e-1].classList.add("step--active")},initForm=function(){for(var e=1;e<steps.length;e++)steps[e].classList.remove("step--active")};form.querySelectorAll("a.step__next-button").forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),nextStep(t)})}),form.querySelectorAll(".step__prev-button").forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),prevStep(t+1)})}),form.querySelector("button.step__next-button").addEventListener("click",function(e){!1!==isValidFieldset(steps[steps.length-1])||e.preventDefault()}),form.querySelectorAll("input").forEach(function(e){e.addEventListener("input",function(){isValidInput(e)})}),companionsElements.plusButton.addEventListener("click",function(e){e.preventDefault(),0==companionsElements.input.value&&companionsElements.minusButton.classList.remove("input-area__button--inactive"),companionsElements.input.value=parseInt(companionsElements.input.value)+1}),companionsElements.minusButton.addEventListener("click",function(e){e.preventDefault(),companionsElements.input.value>0&&(companionsElements.input.value=parseInt(companionsElements.input.value)-1),0==companionsElements.input.value&&companionsElements.minusButton.classList.add("input-area__button--inactive")}),initForm(),window.validation={isValidTextarea:isValidFieldset};